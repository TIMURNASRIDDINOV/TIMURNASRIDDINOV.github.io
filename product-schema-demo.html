<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–î–µ–º–æ —Å—Ö–µ–º—ã –ø—Ä–æ–¥—É–∫—Ç–∞</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
          sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background: #f8f9fa;
      }

      .header {
        text-align: center;
        margin-bottom: 2rem;
        padding: 2rem;
        background: linear-gradient(135deg, #2c5aa0 0%, #1e3d6f 100%);
        color: white;
        border-radius: 12px;
      }

      .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .product-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.2s ease;
      }

      .product-card:hover {
        transform: translateY(-4px);
      }

      .product-image {
        width: 100%;
        height: 200px;
        background: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        color: #666;
      }

      .product-content {
        padding: 1.5rem;
      }

      .product-name {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: #333;
      }

      .product-type {
        background: #e3f2fd;
        color: #1976d2;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 1rem;
      }

      .customizable-badge {
        background: #4caf50;
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 12px;
        font-size: 0.7rem;
        margin-left: 0.5rem;
      }

      .product-description {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 1rem;
        line-height: 1.4;
      }

      .sizes-section,
      .colors-section {
        margin-bottom: 1rem;
      }

      .section-label {
        font-weight: 600;
        font-size: 0.85rem;
        color: #555;
        margin-bottom: 0.5rem;
        display: block;
      }

      .sizes-list {
        display: flex;
        gap: 0.25rem;
        flex-wrap: wrap;
      }

      .size-badge {
        background: #f5f5f5;
        border: 1px solid #ddd;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 500;
      }

      .colors-list {
        display: flex;
        gap: 0.5rem;
        align-items: center;
      }

      .color-swatch {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        border: 2px solid #fff;
        box-shadow: 0 0 0 1px #ddd;
        cursor: pointer;
      }

      .product-price {
        font-size: 1.3rem;
        font-weight: 700;
        color: #2c5aa0;
        margin-bottom: 1rem;
      }

      .product-meta {
        font-size: 0.8rem;
        color: #666;
        border-top: 1px solid #eee;
        padding-top: 0.75rem;
      }

      .schema-info {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .schema-info h3 {
        color: #2c5aa0;
        margin-bottom: 1rem;
      }

      .schema-info code {
        background: #f8f9fa;
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        font-family: monospace;
      }

      .loading {
        text-align: center;
        padding: 2rem;
        color: #666;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>üè™ –î–µ–º–æ —Å—Ö–µ–º—ã –ø—Ä–æ–¥—É–∫—Ç–∞</h1>
      <p>–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞ –æ–¥–µ–∂–¥—ã</p>
    </div>

    <div class="schema-info">
      <h3>üìã –û –Ω–æ–≤–æ–π —Å—Ö–µ–º–µ –ø—Ä–æ–¥—É–∫—Ç–∞</h3>
      <p>–≠—Ç–∞ —Å—Ö–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è:</p>
      <ul>
        <li><code>name</code> - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</li>
        <li>
          <code>type</code> - —Ç–∏–ø —Ç–æ–≤–∞—Ä–∞ (t-shirt, underwear, hoodie, –∏ —Ç.–¥.)
        </li>
        <li><code>sizes</code> - –º–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤</li>
        <li><code>colors</code> - –º–∞—Å—Å–∏–≤ —Ü–≤–µ—Ç–æ–≤ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –∫–æ–¥–æ–º –∏ hex</li>
        <li><code>price</code> - —Ü–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö</li>
        <li><code>imageURL</code> - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</li>
        <li><code>customizable</code> - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ (boolean)</li>
      </ul>
    </div>

    <div id="productsContainer">
      <div class="loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤...</div>
    </div>

    <script>
      // –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
      async function loadProducts() {
        try {
          const response = await fetch("/data/products.json");
          if (!response.ok) {
            throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤");
          }

          const data = await response.json();
          const products = data.products || [];

          renderProducts(products);
        } catch (error) {
          console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤:", error);
          document.getElementById("productsContainer").innerHTML = `
                    <div class="loading">‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</div>
                `;
        }
      }

      function renderProducts(products) {
        const container = document.getElementById("productsContainer");

        if (products.length === 0) {
          container.innerHTML =
            '<div class="loading">üì¶ –ü—Ä–æ–¥—É–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
          return;
        }

        const productsHTML = products
          .map(
            (product) => `
                <div class="product-card">
                    <div class="product-image">
                        ${getProductIcon(product.type)}
                    </div>
                    <div class="product-content">
                        <div class="product-name">${product.name}</div>
                        <div class="product-type">
                            ${getProductTypeLabel(product.type)}
                            ${
                              product.customizable
                                ? '<span class="customizable-badge">üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è</span>'
                                : ""
                            }
                        </div>
                        
                        <div class="product-description">${
                          product.description || ""
                        }</div>
                        
                        <div class="sizes-section">
                            <span class="section-label">–†–∞–∑–º–µ—Ä—ã:</span>
                            <div class="sizes-list">
                                ${product.sizes
                                  .map(
                                    (size) =>
                                      `<span class="size-badge">${size}</span>`
                                  )
                                  .join("")}
                            </div>
                        </div>
                        
                        <div class="colors-section">
                            <span class="section-label">–¶–≤–µ—Ç–∞:</span>
                            <div class="colors-list">
                                ${product.colors
                                  .slice(0, 4)
                                  .map(
                                    (color) => `
                                    <div class="color-swatch" 
                                         style="background-color: ${color.hex}"
                                         title="${color.name}">
                                    </div>
                                `
                                  )
                                  .join("")}
                                ${
                                  product.colors.length > 4
                                    ? `<span>+${
                                        product.colors.length - 4
                                      }</span>`
                                    : ""
                                }
                            </div>
                        </div>
                        
                        <div class="product-price">
                            ${formatPrice(product.price)}
                        </div>
                        
                        <div class="product-meta">
                            ${
                              product.material
                                ? `–ú–∞—Ç–µ—Ä–∏–∞–ª: ${product.material}<br>`
                                : ""
                            }
                            ${
                              product.brand ? `–ë—Ä–µ–Ω–¥: ${product.brand}<br>` : ""
                            }
                            ${
                              product.inStock
                                ? `‚úÖ –í –Ω–∞–ª–∏—á–∏–∏`
                                : "‚ùå –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏"
                            }
                            ${
                              product.stockQuantity
                                ? ` (${product.stockQuantity} —à—Ç.)`
                                : ""
                            }
                        </div>
                    </div>
                </div>
            `
          )
          .join("");

        container.innerHTML = `<div class="product-grid">${productsHTML}</div>`;
      }

      function getProductIcon(type) {
        const icons = {
          "t-shirt": "üëï",
          underwear: "ü©≤",
          hoodie: "üß•",
          "tank-top": "üëî",
          shorts: "ü©≥",
          dress: "üëó",
        };
        return icons[type] || "üëï";
      }

      function getProductTypeLabel(type) {
        const labels = {
          "t-shirt": "–§—É—Ç–±–æ–ª–∫–∞",
          underwear: "–ë–µ–ª—å–µ",
          hoodie: "–•—É–¥–∏",
          "tank-top": "–ú–∞–π–∫–∞",
          shorts: "–®–æ—Ä—Ç—ã",
          dress: "–ü–ª–∞—Ç—å–µ",
        };
        return labels[type] || type;
      }

      function formatPrice(price) {
        return new Intl.NumberFormat("ru-RU", {
          style: "currency",
          currency: "RUB",
          minimumFractionDigits: 0,
        }).format(price);
      }

      // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      document.addEventListener("DOMContentLoaded", loadProducts);
    </script>
  </body>
</html>
